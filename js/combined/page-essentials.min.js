!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,d=0,f=0,m=0,p=0,h=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(d=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(d=-1*f,f=0),c=0===f?d:f,"deltaY"in r&&(f=-1*r.deltaY,c=f),"deltaX"in r&&(d=r.deltaX,0===f&&(c=-1*d)),0!==f||0!==d){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,f*=g,d*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,f*=v,d*=v}if(m=Math.max(Math.abs(f),Math.abs(d)),(!a||a>m)&&(a=m,o(r,m)&&(a/=40)),o(r,m)&&(c/=40,d/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/a),d=Math[d>=1?"floor":"ceil"](d/a),f=Math[f>=1?"floor":"ceil"](f/a),u.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();p=t.clientX-w.left,h=t.clientY-w.top}return t.deltaX=d,t.deltaY=f,t.deltaFactor=a,t.offsetX=p,t.offsetY=h,t.deltaMode=0,l.unshift(t,c,d,f),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function n(){a=null}function o(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var i,a,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=l.length;n;)this.addEventListener(l[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=l.length;n;)this.removeEventListener(l[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,l=s.call(arguments,1),c=0,d=0,f=0,m=0,p=0,h=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(f=-1*r.detail),"wheelDelta"in r&&(f=r.wheelDelta),"wheelDeltaY"in r&&(f=r.wheelDeltaY),"wheelDeltaX"in r&&(d=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(d=-1*f,f=0),c=0===f?d:f,"deltaY"in r&&(f=-1*r.deltaY,c=f),"deltaX"in r&&(d=r.deltaX,0===f&&(c=-1*d)),0!==f||0!==d){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,f*=g,d*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,f*=v,d*=v}if(m=Math.max(Math.abs(f),Math.abs(d)),(!a||a>m)&&(a=m,o(r,m)&&(a/=40)),o(r,m)&&(c/=40,d/=40,f/=40),c=Math[c>=1?"floor":"ceil"](c/a),d=Math[d>=1?"floor":"ceil"](d/a),f=Math[f>=1?"floor":"ceil"](f/a),u.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();p=t.clientX-w.left,h=t.clientY-w.top}return t.deltaX=d,t.deltaY=f,t.deltaFactor=a,t.offsetX=p,t.offsetY=h,t.deltaMode=0,l.unshift(t,c,d,f),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function n(){a=null}function o(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var i,a,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],s=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=l.length;n;)this.addEventListener(l[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=l.length;n;)this.removeEventListener(l[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),o=n["offsetParent"in e.fn?"offsetParent":"parent"]();return o.length||(o=e("body")),parseInt(o.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var n="function"==typeof define&&define.amd,o="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:";n||(o?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var t,n="mCustomScrollbar",o="mCS",i=".mCustomScrollbar",a={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){var t=e.extend(!0,{},a,t),n=f.call(this);if(t.live){var s=t.liveSelector||this.selector||i,c=e(s);if("off"===t.live)return void p(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&p(s)},500)}else p(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":h(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),m(t),e(n).each(function(){var n=e(this);if(!n.data(o)){n.data(o,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=n.data(o),a=i.opt,l=n.data("mcs-axis"),s=n.data("mcs-scrollbar-position"),c=n.data("mcs-theme");l&&(a.axis=l),s&&(a.scrollbarPosition=s),c&&(a.theme=c,m(a)),v.call(this),i&&a.callbacks.onCreate&&"function"==typeof a.callbacks.onCreate&&a.callbacks.onCreate.call(this),e("#mCSB_"+i.idx+"_container img:not(."+u[2]+")").addClass(u[2]),d.update.call(null,n)}})},update:function(t,n){var i=t||f.call(this);return e(i).each(function(){var t=e(this);if(t.data(o)){var i=t.data(o),a=i.opt,r=e("#mCSB_"+i.idx+"_container"),l=e("#mCSB_"+i.idx),s=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!r.length)return;i.tweenRunning&&K(t),n&&i&&a.callbacks.onBeforeUpdate&&"function"==typeof a.callbacks.onBeforeUpdate&&a.callbacks.onBeforeUpdate.call(this),t.hasClass(u[3])&&t.removeClass(u[3]),t.hasClass(u[4])&&t.removeClass(u[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),x.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||r.css("width",w(r)),i.overflowed=C.call(this),E.call(this),a.autoDraggerLength&&b.call(this),S.call(this),I.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==a.axis&&(i.overflowed[0]?s[0].height()>s[0].parent().height()?T.call(this):($(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),i.contentReset.y=null):(T.call(this),"y"===a.axis?M.call(this):"yx"===a.axis&&i.overflowed[1]&&$(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(i.overflowed[1]?s[1].width()>s[1].parent().width()?T.call(this):($(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),i.contentReset.x=null):(T.call(this),"x"===a.axis?M.call(this):"yx"===a.axis&&i.overflowed[0]&&$(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&i&&(2===n&&a.callbacks.onImageLoad&&"function"==typeof a.callbacks.onImageLoad?a.callbacks.onImageLoad.call(this):3===n&&a.callbacks.onSelectorChange&&"function"==typeof a.callbacks.onSelectorChange?a.callbacks.onSelectorChange.call(this):a.callbacks.onUpdate&&"function"==typeof a.callbacks.onUpdate&&a.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(t,n){if(void 0!==t&&null!=t){var i=f.call(this);return e(i).each(function(){var i=e(this);if(i.data(o)){var a=i.data(o),r=a.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,n),c=j.call(this,t),u=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=Y.call(this,c[0],"y"),c[1]=Y.call(this,c[1],"x"),s.moveDragger&&(c[0]*=a.scrollRatio.y,c[1]*=a.scrollRatio.x),s.dur=ie()?0:u,setTimeout(function(){null!==c[0]&&void 0!==c[0]&&"x"!==r.axis&&a.overflowed[0]&&(s.dir="y",s.overwrite="all",$(i,c[0].toString(),s)),null!==c[1]&&void 0!==c[1]&&"y"!==r.axis&&a.overflowed[1]&&(s.dir="x",s.overwrite="none",$(i,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(o)&&K(t)})},disable:function(t){var n=f.call(this);return e(n).each(function(){var n=e(this);n.data(o)&&(n.data(o),X.call(this,"remove"),M.call(this),t&&T.call(this),E.call(this,!0),n.addClass(u[3]))})},destroy:function(){var t=f.call(this);return e(t).each(function(){var i=e(this);if(i.data(o)){var a=i.data(o),r=a.opt,l=e("#mCSB_"+a.idx),s=e("#mCSB_"+a.idx+"_container"),c=e(".mCSB_"+a.idx+"_scrollbar");r.live&&p(r.liveSelector||e(t).selector),X.call(this,"remove"),M.call(this),T.call(this),i.removeData(o),J(this,"mcs"),c.remove(),s.find("img."+u[2]).removeClass(u[2]),l.replaceWith(s.contents()),i.removeClass(n+" _"+o+"_"+a.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?i:this},m=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],o=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],a=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,n)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,o)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,i)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,a)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},p=function(e){l[e]&&(clearTimeout(l[e]),J(l,e))},h=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),i=t.data(o),a=i.opt,r=a.autoExpandScrollbar?" "+u[1]+"_expand":"",l=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+u[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===a.axis?l[0]+l[1]:"x"===a.axis?l[1]:l[0],d="yx"===a.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=a.autoHideScrollbar?" "+u[6]:"",m="x"!==a.axis&&"rtl"===i.langDir?" "+u[7]:"";a.setWidth&&t.css("width",a.setWidth),a.setHeight&&t.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===i.langDir?"989999px":a.setLeft,t.addClass(n+" _"+o+"_"+i.idx+f+m).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+s+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir='"+i.langDir+"' /></div>");var p=e("#mCSB_"+i.idx),h=e("#mCSB_"+i.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||h.css("width",w(h)),"outside"===a.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),p.addClass("mCSB_outside").after(c)):(p.addClass("mCSB_inside").append(c),h.wrap(d)),y.call(this);var g=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},w=function(t){var n=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],o=t.parent().width();return n[0]>o?n[0]:n[1]>o?n[1]:"100%"},x=function(){var t=e(this).data(o),n=t.opt,i=e("#mCSB_"+t.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var a=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&a>i.parent().width()?i.css({width:a,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},y=function(){var t=e(this).data(o),n=t.opt,i=e(".mCSB_"+t.idx+"_scrollbar:first"),a=ne(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",r=["<a href='#' class='"+u[13]+"' "+a+" />","<a href='#' class='"+u[14]+"' "+a+" />","<a href='#' class='"+u[15]+"' "+a+" />","<a href='#' class='"+u[16]+"' "+a+" />"],l=["x"===n.axis?r[2]:r[0],"x"===n.axis?r[3]:r[1],r[2],r[3]];n.scrollButtons.enable&&i.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},b=function(){var t=e(this).data(o),n=e("#mCSB_"+t.idx),i=e("#mCSB_"+t.idx+"_container"),a=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],r=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],l=[parseInt(a[0].css("min-height")),Math.round(r[0]*a[0].parent().height()),parseInt(a[1].css("min-width")),Math.round(r[1]*a[1].parent().width())],c=s&&l[1]<l[0]?l[0]:l[1],u=s&&l[3]<l[2]?l[2]:l[3];a[0].css({height:c,"max-height":a[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":l[0]+"px"}),a[1].css({width:u,"max-width":a[1].parent().width()-10})},S=function(){var t=e(this).data(o),n=e("#mCSB_"+t.idx),i=e("#mCSB_"+t.idx+"_container"),a=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],r=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],l=[r[0]/(a[0].parent().height()-a[0].height()),r[1]/(a[1].parent().width()-a[1].width())];t.scrollRatio={y:l[0],x:l[1]}},_=function(e,t,n){var o=n?u[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(u[0]+" "+o),i.toggleClass(u[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(u[0]),i.removeClass(u[1])):(e.addClass(u[0]),i.addClass(u[1])))},C=function(){var t=e(this).data(o),n=e("#mCSB_"+t.idx),i=e("#mCSB_"+t.idx+"_container"),a=null==t.overflowed?i.height():i.outerHeight(!1),r=null==t.overflowed?i.width():i.outerWidth(!1),l=i[0].scrollHeight,s=i[0].scrollWidth;return l>a&&(a=l),s>r&&(r=s),[a>n.height(),r>n.width()]},T=function(){var t=e(this),n=t.data(o),i=n.opt,a=e("#mCSB_"+n.idx),r=e("#mCSB_"+n.idx+"_container"),l=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(K(t),("x"!==i.axis&&!n.overflowed[0]||"y"===i.axis&&n.overflowed[0])&&(l[0].add(r).css("top",0),$(t,"_resetY")),"y"!==i.axis&&!n.overflowed[1]||"x"===i.axis&&n.overflowed[1]){var s=dx=0;"rtl"===n.langDir&&(s=a.width()-r.outerWidth(!1),dx=Math.abs(s/n.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),$(t,"_resetX")}},I=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),A.call(n[0])):t()},100)}var n=e(this),i=n.data(o),a=i.opt;if(!i.bindEvents){if(k.call(this),a.contentTouchScroll&&O.call(this),B.call(this),a.mouseWheel.enable){var r;t()}P.call(this),H.call(this),a.advanced.autoScrollOnFocus&&W.call(this),a.scrollButtons.enable&&N.call(this),a.keyboard.enable&&Z.call(this),i.bindEvents=!0}},M=function(){var t=e(this),n=t.data(o),i=n.opt,a=o+"_"+n.idx,r=".mCSB_"+n.idx+"_scrollbar",l=e("#mCSB_"+n.idx+",#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,"+r+" ."+u[12]+",#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+n.idx+"_container");i.advanced.releaseDraggableSelectors&&l.add(e(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&l.add(e(i.advanced.extraDraggableSelectors)),n.bindEvents&&(e(document).add(e(!L()||top.document)).unbind("."+a),l.each(function(){e(this).unbind("."+a)}),clearTimeout(t[0]._focusTimeout),J(t[0],"_focusTimeout"),clearTimeout(n.sequential.step),J(n.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),J(s[0],"onCompleteTimeout"),n.bindEvents=!1)},E=function(t){var n=e(this),i=n.data(o),a=i.opt,r=e("#mCSB_"+i.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+i.idx+"_container"),s=[e("#mCSB_"+i.idx+"_scrollbar_vertical"),e("#mCSB_"+i.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==a.axis&&(i.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(u[8]+" "+u[10])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(u[10])):(s[0].css("display","none"),l.addClass(u[10])),l.addClass(u[8]))),"y"!==a.axis&&(i.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(u[9]+" "+u[11])):(a.alwaysShowScrollbar?(2!==a.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(u[11])):(s[1].css("display","none"),l.addClass(u[11])),l.addClass(u[9]))),i.overflowed[0]||i.overflowed[1]?n.removeClass(u[5]):n.addClass(u[5])},D=function(t){var n=t.type,o=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,i=L()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(n){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return o?[t.originalEvent.pageY-o[0]+i[0],t.originalEvent.pageX-o[1]+i[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var a=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[a.screenY,a.screenX,r>1]:[a.pageY,a.pageX,r>1];default:return o?[t.pageY-o[0]+i[0],t.pageX-o[1]+i[1],!1]:[t.pageY,t.pageX,!1]}},k=function(){function t(e,t,o,i){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===f[1])var a="x",s=(n[0].offsetLeft-t+i)*l.scrollRatio.x;else var a="y",s=(n[0].offsetTop-e+o)*l.scrollRatio.y;$(r,s.toString(),{dir:a,drag:!0})}var n,i,a,r=e(this),l=r.data(o),u=l.opt,d=o+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],m=e("#mCSB_"+l.idx+"_container"),p=e("#"+f[0]+",#"+f[1]),h=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,g=u.advanced.extraDraggableSelectors?e(!L()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!L()||top.document);p.bind("contextmenu."+d,function(e){e.preventDefault()}).bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),R.call(m,!1),K(r);var o=(n=e(this)).offset(),l=D(t)[0]-o.top,d=D(t)[1]-o.left,f=n.height()+o.top,p=n.width()+o.left;f>l&&l>0&&p>d&&d>0&&(i=l,a=d),_(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+d,function(e){e.stopImmediatePropagation(),e.preventDefault();var o=n.offset(),r=D(e)[0]-o.top,l=D(e)[1]-o.left;t(i,a,r,l)}),e(document).add(g).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(e){if(n){var o=n.offset(),r=D(e)[0]-o.top,l=D(e)[1]-o.left;if(i===r&&a===l)return;t(i,a,r,l)}}).add(h).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){n&&(_(n,"active",u.autoExpandScrollbar),n=null),c=!1,s&&(document.onselectstart=null),R.call(m,!0)})},O=function(){function n(e){if(!te(e)||c||D(e)[2])t=0;else{t=1,S=0,_=0,u=1,C.removeClass("mCS_touch_action");var n=k.offset();d=D(e)[0]-n.top,f=D(e)[1]-n.left,F=[D(e)[0],D(e)[1]]}}function i(e){if(te(e)&&!c&&!D(e)[2]&&(I.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!_||S)&&u)){g=V();var t=E.offset(),n=D(e)[0]-t.top,o=D(e)[1]-t.left,i="mcsLinearOut";if(B.push(n),A.push(o),F[2]=Math.abs(D(e)[0]-F[0]),F[3]=Math.abs(D(e)[1]-F[1]),T.overflowed[0])var a=O[0].parent().height()-O[0].height(),r=d-n>0&&n-d>-a*T.scrollRatio.y&&(2*F[3]<F[2]||"yx"===I.axis);if(T.overflowed[1])var l=O[1].parent().width()-O[1].width(),m=f-o>0&&o-f>-l*T.scrollRatio.x&&(2*F[2]<F[3]||"yx"===I.axis);r||m?(H||e.preventDefault(),S=1):(_=1,C.addClass("mCS_touch_action")),H&&e.preventDefault(),y="yx"===I.axis?[d-n,f-o]:"x"===I.axis?[null,f-o]:[d-n,null],k[0].idleTimer=250,T.overflowed[0]&&s(y[0],z,i,"y","all",!0),T.overflowed[1]&&s(y[1],z,i,"x",R,!0)}}function a(e){if(!te(e)||c||D(e)[2])t=0;else{t=1,e.stopImmediatePropagation(),K(C),h=V();var n=E.offset();m=D(e)[0]-n.top,p=D(e)[1]-n.left,B=[],A=[]}}function r(e){if(te(e)&&!c&&!D(e)[2]){u=0,e.stopImmediatePropagation(),S=0,_=0,v=V();var t=E.offset(),n=D(e)[0]-t.top,o=D(e)[1]-t.left;if(!(v-g>30)){var i="mcsEaseOut",a=2.5>(x=1e3/(v-h)),r=a?[B[B.length-2],A[A.length-2]]:[0,0];w=a?[n-r[0],o-r[1]]:[n-m,o-p];var d=[Math.abs(w[0]),Math.abs(w[1])];x=a?[Math.abs(w[0]/4),Math.abs(w[1]/4)]:[x,x];var f=[Math.abs(k[0].offsetTop)-w[0]*l(d[0]/x[0],x[0]),Math.abs(k[0].offsetLeft)-w[1]*l(d[1]/x[1],x[1])];y="yx"===I.axis?[f[0],f[1]]:"x"===I.axis?[null,f[1]]:[f[0],null],b=[4*d[0]+I.scrollInertia,4*d[1]+I.scrollInertia];var C=parseInt(I.contentTouchScroll)||0;y[0]=d[0]>C?y[0]:0,y[1]=d[1]>C?y[1]:0,T.overflowed[0]&&s(y[0],b[0],i,"y",R,!1),T.overflowed[1]&&s(y[1],b[1],i,"x",R,!1)}}}function l(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function s(e,t,n,o,i,a){e&&$(C,e.toString(),{dur:t,scrollEasing:n,dir:o,overwrite:i,drag:a})}var u,d,f,m,p,h,g,v,w,x,y,b,S,_,C=e(this),T=C.data(o),I=T.opt,M=o+"_"+T.idx,E=e("#mCSB_"+T.idx),k=e("#mCSB_"+T.idx+"_container"),O=[e("#mCSB_"+T.idx+"_dragger_vertical"),e("#mCSB_"+T.idx+"_dragger_horizontal")],B=[],A=[],z=0,R="yx"===I.axis?"none":"all",F=[],P=k.find("iframe"),W=["touchstart."+M+" pointerdown."+M+" MSPointerDown."+M,"touchmove."+M+" pointermove."+M+" MSPointerMove."+M,"touchend."+M+" pointerup."+M+" MSPointerUp."+M],H=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;k.bind(W[0],function(e){n(e)}).bind(W[1],function(e){i(e)}),E.bind(W[0],function(e){a(e)}).bind(W[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(W[0],function(e){n(e),a(e)}).bind(W[1],function(e){i(e)}).bind(W[2],function(e){r(e)})})})},B=function(){function n(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function i(e,t,n){u.type=n&&a?"stepped":"stepless",u.scrollAmount=10,U(r,e,t,"mcsLinearOut",n?60:null)}var a,r=e(this),l=r.data(o),s=l.opt,u=l.sequential,d=o+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),m=f.parent();f.bind("mousedown."+d,function(){t||a||(a=1,c=!0)}).add(document).bind("mousemove."+d,function(e){if(!t&&a&&n()){var o=f.offset(),r=D(e)[0]-o.top+f[0].offsetTop,c=D(e)[1]-o.left+f[0].offsetLeft;r>0&&r<m.height()&&c>0&&c<m.width()?u.step&&i("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?i("on",38):r>m.height()&&i("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?i("on",37):c>m.width()&&i("on",39)))}}).bind("mouseup."+d+" dragend."+d,function(){t||(a&&(a=0,i("off",null)),c=!1)})},A=function(){function t(t,o){if(K(n),!F(n,t.target)){var r="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,u=a.scrollInertia;if("x"===a.axis||"x"===a.mouseWheel.axis)var d="x",f=[Math.round(r*i.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],m="auto"!==a.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),h=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===a.mouseWheel.axis?t.deltaY||o:t.deltaX;else var d="y",f=[Math.round(r*i.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],m="auto"!==a.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],p=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),h=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||o;"y"===d&&!i.overflowed[0]||"x"===d&&!i.overflowed[1]||((a.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),a.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==h||0>v&&h!==g||a.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!a.mouseWheel.normalizeDelta&&(m=t.deltaFactor,u=17),$(n,(p-v*m).toString(),{dir:d,dur:u}))}}if(e(this).data(o)){var n=e(this),i=n.data(o),a=i.opt,r=o+"_"+i.idx,l=e("#mCSB_"+i.idx),c=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],u=e("#mCSB_"+i.idx+"_container").find("iframe");u.length&&u.each(function(){e(this).bind("load",function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,n){t(e,n)})})}),l.bind("mousewheel."+r,function(e,n){t(e,n)})}},z=new Object,L=function(t){var n=!1,o=!1,i=null;if(void 0===t?o="#empty":void 0!==e(t).attr("id")&&(o=e(t).attr("id")),!1!==o&&void 0!==z[o])return z[o];if(t){try{i=(a=t.contentDocument||t.contentWindow.document).body.innerHTML}catch(e){}n=null!==i}else{try{var a=top.document;i=a.body.innerHTML}catch(e){}n=null!==i}return!1!==o&&(z[o]=n),n},R=function(e){var t=this.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}},F=function(t,n){var i=n.nodeName.toLowerCase(),a=t.data(o).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(i,a)>-1&&!(e.inArray(i,r)>-1&&!e(n).is(":focus"))},P=function(){var t,n=e(this),i=n.data(o),a=o+"_"+i.idx,r=e("#mCSB_"+i.idx+"_container"),l=r.parent();e(".mCSB_"+i.idx+"_scrollbar ."+u[12]).bind("mousedown."+a+" touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,function(n){c=!0,e(n.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,function(){c=!1}).bind("click."+a,function(o){if(t&&(t=0,e(o.target).hasClass(u[12])||e(o.target).hasClass("mCSB_draggerRail"))){K(n);var a=e(this),s=a.find(".mCSB_dragger");if(a.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var c="x",d=o.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-d*(.9*l.width())}else{if(!i.overflowed[0])return;var c="y",d=o.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-d*(.9*l.height())}$(n,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},W=function(){var t=e(this),n=t.data(o),i=n.opt,a=o+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent();r.bind("focusin."+a,function(){var n=e(document.activeElement),o=r.find(".mCustomScrollBox").length;n.is(i.advanced.autoScrollOnFocus)&&(K(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=o?17*o:0,t[0]._focusTimeout=setTimeout(function(){var e=[oe(n)[0],oe(n)[1]],o=[r[0].offsetTop,r[0].offsetLeft],a=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-n.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-n.outerWidth(!1)],s="yx"!==i.axis||a[0]||a[1]?"all":"none";"x"===i.axis||a[0]||$(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:s,dur:0}),"y"===i.axis||a[1]||$(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:s,dur:0})},t[0]._focusTimer))})},H=function(){var t=e(this).data(o),n=o+"_"+t.idx,i=e("#mCSB_"+t.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")})},N=function(){var t=e(this),n=t.data(o),i=n.opt,a=n.sequential,r=o+"_"+n.idx,l=".mCSB_"+n.idx+"_scrollbar";e(l+">a").bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(o){function r(e,n){a.scrollAmount=i.scrollButtons.scrollAmount,U(t,e,n)}if(o.preventDefault(),ee(o)){var l=e(this).attr("class");switch(a.type=i.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===a.type)return;c=!0,n.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===a.type)return;c=!1,a.dir&&r("off",l);break;case"click":if("stepped"!==a.type||n.tweenRunning)return;r("on",l)}}})},Z=function(){function t(t){function o(e,t){r.type=a.keyboard.scrollType,r.scrollAmount=a.keyboard.scrollAmount,"stepped"===r.type&&i.tweenRunning||U(n,e,t)}switch(t.type){case"blur":i.tweenRunning&&r.dir&&o("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==a.axis&&(38===l||40===l)||"y"!==a.axis&&(37===l||39===l)){if((38===l||40===l)&&!i.overflowed[0]||(37===l||39===l)&&!i.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(d)||(t.preventDefault(),t.stopImmediatePropagation(),o(s,l))}else if(33===l||34===l){if((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){K(n);var f=34===l?-1:1;if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var m="x",p=Math.abs(c[0].offsetLeft)-f*(.9*u.width());else var m="y",p=Math.abs(c[0].offsetTop)-f*(.9*u.height());$(n,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(d)&&((i.overflowed[0]||i.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===a.axis||"yx"===a.axis&&i.overflowed[1]&&!i.overflowed[0])var m="x",p=35===l?Math.abs(u.width()-c.outerWidth(!1)):0;else var m="y",p=35===l?Math.abs(u.height()-c.outerHeight(!1)):0;$(n,p.toString(),{dir:m,scrollEasing:"mcsEaseInOut"})}}}var n=e(this),i=n.data(o),a=i.opt,r=i.sequential,l=o+"_"+i.idx,s=e("#mCSB_"+i.idx),c=e("#mCSB_"+i.idx+"_container"),u=c.parent(),d="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),m=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(m[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(m[0],function(e){t(e)})},U=function(t,n,i,a,r){function l(e){c.snapAmount&&(d.scrollAmount=c.snapAmount instanceof Array?"x"===d.dir[0]?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount);var n="stepped"!==d.type,o=r||(e?n?p/1.5:h:1e3/60),i=e?n?7.5:40:2.5,u=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],m=[s.scrollRatio.y>10?10:s.scrollRatio.y,s.scrollRatio.x>10?10:s.scrollRatio.x],g="x"===d.dir[0]?u[1]+d.dir[1]*(m[1]*i):u[0]+d.dir[1]*(m[0]*i),v="x"===d.dir[0]?u[1]+d.dir[1]*parseInt(d.scrollAmount):u[0]+d.dir[1]*parseInt(d.scrollAmount),w="auto"!==d.scrollAmount?v:g,x=a||(e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),y=!!e;return e&&17>o&&(w="x"===d.dir[0]?u[1]:u[0]),$(t,w.toString(),{dir:d.dir[0],scrollEasing:x,dur:o,onComplete:y}),e?void(d.dir=!1):(clearTimeout(d.step),void(d.step=setTimeout(function(){l()},o)))}var s=t.data(o),c=s.opt,d=s.sequential,f=e("#mCSB_"+s.idx+"_container"),m="stepped"===d.type,p=c.scrollInertia<26?26:c.scrollInertia,h=c.scrollInertia<1?17:c.scrollInertia;switch(n){case"on":if(d.dir=[i===u[16]||i===u[15]||39===i||37===i?"x":"y",i===u[13]||i===u[15]||38===i||37===i?-1:1],K(t),ne(i)&&"stepped"===d.type)return;l(m);break;case"off":(function(){clearTimeout(d.step),J(d,"step"),K(t)})(),(m||s.tweenRunning&&d.dir)&&l(!0)}},j=function(t){var n=e(this).data(o).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===n.axis?null:t,i[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},Y=function(t,n){if(null!=t&&void 0!==t){var i=e(this),a=i.data(o),r=a.opt,l=e("#mCSB_"+a.idx+"_container"),s=l.parent(),c=typeof t;n||(n="x"===r.axis?"x":"y");var u="x"===n?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===n?l[0].offsetLeft:l[0].offsetTop,m="x"===n?"left":"top";switch(c){case"function":return t();case"object":if(!(h=t.jquery?t:e(t)).length)return;return"x"===n?oe(h)[1]:oe(h)[0];case"string":case"number":if(ne(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(u*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&ne(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var h=l.find(":"+t);return"x"===n?oe(h)[1]:oe(h)[0]}return e(t).length?"x"===n?oe(e(t))[1]:oe(e(t))[0]:(l.css(m,t),void d.update.call(null,i[0]))}}},X=function(t){function n(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=a(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&n()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){i(this)}))},c.advanced.autoUpdateTimeout))}function i(t){function n(){this.onload=null,e(t).addClass(u[2]),r(2)}if(e(t).hasClass(u[2]))r();else{var o=new Image;o.onload=function(e,t){return function(){return t.apply(e,arguments)}}(o,n),o.src=t.src}}function a(){!0===c.advanced.updateOnSelectorChange&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),d.update.call(null,l[0],e)}var l=e(this),s=l.data(o),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void J(f[0],"autoUpdate")):void n()},q=function(e,t,n){return Math.round(e/t)*t-n},K=function(t){var n=t.data(o);e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal").each(function(){Q.call(this)})},$=function(t,n,i){function a(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||y>=b[0]+C,c.callbacks.alwaysTriggerOffsets||-T>=y]}function l(){var e=[m[0].offsetTop,m[0].offsetLeft],n=[w[0].offsetTop,w[0].offsetLeft],o=[m.outerHeight(!1),m.outerWidth(!1)],a=[f.height(),f.width()];t[0].mcs={content:m,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(o[0])-a[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(o[1])-a[1])),direction:i.dir}}var s=t.data(o),c=s.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},d=[(i=e.extend(u,i)).dur,i.drag?0:i.dur],f=e("#mCSB_"+s.idx),m=e("#mCSB_"+s.idx+"_container"),p=m.parent(),h=c.callbacks.onTotalScrollOffset?j.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?j.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=i.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==n||s.contentReset.y||(a("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==n||s.contentReset.x||(a("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(a("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(a("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===i.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;n=q(n,v,c.snapOffset)}switch(i.dir){case"x":var w=e("#mCSB_"+s.idx+"_dragger_horizontal"),x="left",y=m[0].offsetLeft,b=[f.width()-m.outerWidth(!1),w.parent().width()-w.width()],S=[n,0===n?0:n/s.scrollRatio.x],C=h[1],T=g[1],I=C>0?C/s.scrollRatio.x:0,M=T>0?T/s.scrollRatio.x:0;break;case"y":var w=e("#mCSB_"+s.idx+"_dragger_vertical"),x="top",y=m[0].offsetTop,b=[f.height()-m.outerHeight(!1),w.parent().height()-w.height()],S=[n,0===n?0:n/s.scrollRatio.y],C=h[0],T=g[0],I=C>0?C/s.scrollRatio.y:0,M=T>0?T/s.scrollRatio.y:0}S[1]<0||0===S[0]&&0===S[1]?S=[0,0]:S[1]>=b[1]?S=[b[0],b[1]]:S[0]=-S[0],t[0].mcs||(l(),a("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(m[0].onCompleteTimeout),G(w[0],x,Math.round(S[1]),d[1],i.scrollEasing),!s.tweenRunning&&(0===y&&S[0]>=0||y===b[0]&&S[0]<=b[0])||G(m[0],x,Math.round(S[0]),d[0],i.scrollEasing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!s.tweenRunning&&(a("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,_(w),s.cbOffsets=r())},onUpdate:function(){i.callbacks&&i.onUpdate&&a("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===c.axis&&clearTimeout(m[0].onCompleteTimeout);var e=m[0].idleTimer||0;m[0].onCompleteTimeout=setTimeout(function(){a("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),a("onTotalScroll")&&S[1]>=b[1]-I&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),a("onTotalScrollBack")&&S[1]<=M&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,m[0].idleTimer=0,_(w,"hide")},e)}}})}},G=function(e,t,n,o,i,a,r){function l(){x.stop||(g||f.call(),g=V()-h,s(),g>=x.time&&(x.time=g>x.time?g+u-(g-x.time):g+u-1,x.time<g+1&&(x.time=g+1)),x.time<o?x.id=d(l):p.call())}function s(){o>0?(x.currVal=c(x.time,v,y,o,i),w[t]=Math.round(x.currVal)+"px"):w[t]=n+"px",m.call()}function c(e,t,n,o,i){switch(i){case"linear":case"mcsLinear":return n*e/o+t;case"mcsLinearOut":return e/=o,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=o/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=o/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return e/=o/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=o,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(1-Math.pow(2,-10*e/o))+t;case"easeOut":case"mcsEaseOut":default:var a=(e/=o)*e,r=a*e;return t+n*(.499999999999997*r*a+-2.5*a*a+5.5*r+-6.5*a+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var u,d,f=(r=r||{}).onStart||function(){},m=r.onUpdate||function(){},p=r.onComplete||function(){},h=V(),g=0,v=e.offsetTop,w=e.style,x=e._mTween[t];"left"===t&&(v=e.offsetLeft);var y=n-v;x.stop=0,"none"!==a&&function(){null!=x.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(x.id):clearTimeout(x.id),x.id=null)}(),function(){u=1e3/60,x.time=g+u,d=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},x.id=d(l)}()},V=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Q=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],n=0;n<t.length;n++){var o=t[n];e._mTween[o].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[o].id):clearTimeout(e._mTween[o].id),e._mTween[o].id=null,e._mTween[o].stop=1)}},J=function(e,t){try{delete e[t]}catch(n){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ne=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ie=function(){var e=function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}();return!!e&&document[e]};e.fn[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[n].defaults=a,window[n]=!0,e(window).bind("load",function(){e(i)[n](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,o,i=e(t),a=i.parents(".mCSB_container");if(a.length)return n=a.parent(),(o=[a[0].offsetTop,a[0].offsetLeft])[0]+oe(i)[0]>=0&&o[0]+oe(i)[0]<n.height()-i.outerHeight(!1)&&o[1]+oe(i)[1]>=0&&o[1]+oe(i)[1]<n.width()-i.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,n,o){var i,a,r,l,s=e(t),c=s.parents(".mCSB_container"),u="exact"===o[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return i=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+oe(s)[0],c[0].offsetLeft+oe(s)[1]],a=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[i[0]<a[0]?u[0]:u[1],i[1]<a[1]?u[0]:u[1]],r[0]-a[0]*l[0][0]<0&&r[0]+i[0]-a[0]*l[0][1]>=0&&r[1]-a[1]*l[1][0]<0&&r[1]+i[1]-a[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(o);if(n)return n.overflowed[0]||n.overflowed[1]}})})}()}()}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(e,t,n,o){var i={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(n.isOldIOSPhone=!0)}var r=o.match(/Android\s([0-9\.]*)/),l=r?r[1]:0;(l=parseFloat(l))>=1&&(l<4.4&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var s,c,u=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],f=0;f<4;f++){t=d[f];for(var m=0;m<3;m++)s=u[m],c=t+(t?s.charAt(0).toUpperCase()+s.slice(1):s),!n[s]&&c in e&&(n[s]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var p=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-p)),o=window.setTimeout(function(){e(t+n)},n);return p=t+n,o},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=n,n}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,o){t=t.split(" ");for(var i,a=(o?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(i=t[l])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=r;e[a]("on"+i,n["oldIE"+i])}else e[a]("on"+i,n)});var a=this,r={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(r,o);var l,s,c,u,d,f,m,p,h,g,v,w,x,y,b,S,_,C,T,I,M,E,D,k,O,B,A,z,L,R,F,P,W,H,N,Z,U,j,Y,X,q,K,$,G,V,Q,J,ee,te,ne,oe,ie,ae,re,le,se,ce,ue={x:0,y:0},de={x:0,y:0},fe={x:0,y:0},me={},pe=0,he={},ge={x:0,y:0},ve=0,we=!0,xe=[],ye={},be=!1,Se=function(e,t){i.extend(a,t.publicMethods),xe.push(e)},_e=function(e){var t=$t();return e>t-1?e-t:e<0?t+e:e},Ce={},Te=function(e,t){return Ce[e]||(Ce[e]=[]),Ce[e].push(t)},Ie=function(e){var t=Ce[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(a,n)}},Me=function(){return(new Date).getTime()},Ee=function(e){le=e,a.bg.style.opacity=e*r.bgOpacity},De=function(e,t,n,o,i){(!be||i&&i!==a.currItem)&&(o/=i?i.fitRatio:a.currItem.fitRatio),e[E]=w+t+"px, "+n+"px"+x+" scale("+o+")"},ke=function(e){ne&&(e&&(g>a.currItem.fitRatio?be||(ln(a.currItem,!1,!0),be=!0):be&&(ln(a.currItem),be=!1)),De(ne,fe.x,fe.y,g))},Oe=function(e){e.container&&De(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Be=function(e,t){t[E]=w+e+"px, 0px"+x},Ae=function(e,t){if(!r.loop&&t){var n=u+(ge.x*pe-e)/ge.x,o=Math.round(e-pt.x);(n<0&&o>0||n>=$t()-1&&o<0)&&(e=pt.x+o*r.mainScrollEndFriction)}pt.x=e,Be(e,d)},ze=function(e,t){var n=ht[e]-he[e];return de[e]+ue[e]+n-n*(t/v)},Le=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Re=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Fe=null,Pe=function(){Fe&&(i.unbind(document,"mousemove",Pe),i.addClass(e,"pswp--has_mouse"),r.mouseUsed=!0,Ie("mouseUsed")),Fe=setTimeout(function(){Fe=null},100)},We=function(){i.bind(document,"keydown",a),F.transform&&i.bind(a.scrollWrap,"click",a),r.mouseUsed||i.bind(document,"mousemove",Pe),i.bind(window,"resize scroll orientationchange",a),Ie("bindEvents")},He=function(){i.unbind(window,"resize scroll orientationchange",a),i.unbind(window,"scroll",h.scroll),i.unbind(document,"keydown",a),i.unbind(document,"mousemove",Pe),F.transform&&i.unbind(a.scrollWrap,"click",a),Y&&i.unbind(window,m,a),clearTimeout(P),Ie("unbindEvents")},Ne=function(e,t){var n=nn(a.currItem,me,e);return t&&(te=n),n},Ze=function(e){return e||(e=a.currItem),e.initialZoomLevel},Ue=function(e){return e||(e=a.currItem),e.w>0?r.maxSpreadZoom:1},je=function(e,t,n,o){return o===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=ze(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ye=function(){if(E){var t=F.perspective&&!k;return w="translate"+(t?"3d(":"("),void(x=F.perspective?", 0px)":")")}E="left",i.addClass(e,"pswp--ie"),Be=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},ke=function(){if(ne){var e=ne,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,o=n*t.w,i=n*t.h;e.width=o+"px",e.height=i+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}},Xe=function(e){var t="";r.escKey&&27===e.keyCode?t="close":r.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},qe=function(e){e&&(K||q||oe||U)&&(e.preventDefault(),e.stopPropagation())},Ke=function(){a.setScrollOffset(0,i.getScrollY())},$e={},Ge=0,Ve=function(e){$e[e]&&($e[e].raf&&B($e[e].raf),Ge--,delete $e[e])},Qe=function(e){$e[e]&&Ve(e),$e[e]||(Ge++,$e[e]={})},Je=function(){for(var e in $e)$e.hasOwnProperty(e)&&Ve(e)},et=function(e,t,n,o,i,a,r){var l,s=Me();Qe(e);var c=function(){if($e[e]){if((l=Me()-s)>=o)return Ve(e),a(n),void(r&&r());a((n-t)*i(l/o)+t),$e[e].raf=O(c)}};c()},tt={shout:Ie,listen:Te,viewportSize:me,options:r,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return g},getCurrentIndex:function(){return u},isDragging:function(){return Y},isZooming:function(){return Q},setScrollOffset:function(e,t){he.x=e,R=he.y=t,Ie("updateScrollOffset",he)},applyZoomPan:function(e,t,n,o){fe.x=t,fe.y=n,g=e,ke(o)},init:function(){if(!l&&!s){var n;a.framework=i,a.template=e,a.bg=i.getChildByClass(e,"pswp__bg"),A=e.className,l=!0,F=i.detectFeatures(),O=F.raf,B=F.caf,E=F.transform,L=F.oldIE,a.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),a.container=i.getChildByClass(a.scrollWrap,"pswp__container"),d=a.container.style,a.itemHolders=S=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",Ye(),h={resize:a.updateSize,orientationchange:function(){clearTimeout(P),P=setTimeout(function(){me.x!==a.scrollWrap.clientWidth&&a.updateSize()},500)},scroll:Ke,keydown:Xe,click:qe};var o=F.isOldIOSPhone||F.isOldAndroid||F.isMobileOpera;for(F.animationName&&F.transform&&!o||(r.showAnimationDuration=r.hideAnimationDuration=0),n=0;n<xe.length;n++)a["init"+xe[n]]();t&&(a.ui=new t(a,i)).init(),Ie("firstUpdate"),u=u||r.index||0,(isNaN(u)||u<0||u>=$t())&&(u=0),a.currItem=Kt(u),(F.isOldIOSPhone||F.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),r.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===R&&(Ie("initialLayout"),R=z=i.getScrollY());var c="pswp--open ";for(r.mainClass&&(c+=r.mainClass+" "),r.showHideOpacity&&(c+="pswp--animate_opacity "),c+=k?"pswp--touch":"pswp--notouch",c+=F.animationName?" pswp--css_animation":"",c+=F.svg?" pswp--svg":"",i.addClass(e,c),a.updateSize(),f=-1,ve=null,n=0;n<3;n++)Be((n+f)*ge.x,S[n].el.style);L||i.bind(a.scrollWrap,p,a),Te("initialZoomInEnd",function(){a.setContent(S[0],u-1),a.setContent(S[2],u+1),S[0].el.style.display=S[2].el.style.display="block",r.focus&&e.focus(),We()}),a.setContent(S[1],u),a.updateCurrItem(),Ie("afterInit"),we||(y=setInterval(function(){Ge||Y||Q||g!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){l&&(l=!1,s=!0,Ie("close"),He(),Vt(a.currItem,null,!0,a.destroy))},destroy:function(){Ie("destroy"),jt&&clearTimeout(jt),e.setAttribute("aria-hidden","true"),e.className=A,y&&clearInterval(y),i.unbind(a.scrollWrap,p,a),i.unbind(window,"scroll",a),yt(),Je(),Ce=null},panTo:function(e,t,n){n||(e>te.min.x?e=te.min.x:e<te.max.x&&(e=te.max.x),t>te.min.y?t=te.min.y:t<te.max.y&&(t=te.max.y)),fe.x=e,fe.y=t,ke()},handleEvent:function(e){e=e||window.event,h[e.type]&&h[e.type](e)},goTo:function(e){var t=(e=_e(e))-u;ve=t,u=e,a.currItem=Kt(u),pe-=t,Ae(ge.x*pe),Je(),oe=!1,a.updateCurrItem()},next:function(){a.goTo(u+1)},prev:function(){a.goTo(u-1)},updateCurrZoomItem:function(e){if(e&&Ie("beforeChange",0),S[1].el.children.length){var t=S[1].el.children[0];ne=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ne=null;te=a.currItem.bounds,v=g=a.currItem.initialZoomLevel,fe.x=te.center.x,fe.y=te.center.y,e&&Ie("afterChange")},invalidateCurrItems:function(){b=!0;for(var e=0;e<3;e++)S[e].item&&(S[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ve){var t,n=Math.abs(ve);if(!(e&&n<2)){a.currItem=Kt(u),be=!1,Ie("beforeChange",ve),n>=3&&(f+=ve+(ve>0?-3:3),n=3);for(var o=0;o<n;o++)ve>0?(t=S.shift(),S[2]=t,f++,Be((f+2)*ge.x,t.el.style),a.setContent(t,u-n+o+1+1)):(t=S.pop(),S.unshift(t),f--,Be(f*ge.x,t.el.style),a.setContent(t,u+n-o-1-1));if(ne&&1===Math.abs(ve)){var i=Kt(_);i.initialZoomLevel!==g&&(nn(i,me),ln(i),Oe(i))}ve=0,a.updateCurrZoomItem(),_=u,Ie("afterChange")}}},updateSize:function(t){if(!we&&r.modal){var n=i.getScrollY();if(R!==n&&(e.style.top=n+"px",R=n),!t&&ye.x===window.innerWidth&&ye.y===window.innerHeight)return;ye.x=window.innerWidth,ye.y=window.innerHeight,e.style.height=ye.y+"px"}if(me.x=a.scrollWrap.clientWidth,me.y=a.scrollWrap.clientHeight,Ke(),ge.x=me.x+Math.round(me.x*r.spacing),ge.y=me.y,Ae(ge.x*pe),Ie("beforeResize"),void 0!==f){for(var o,l,s,c=0;c<3;c++)o=S[c],Be((c+f)*ge.x,o.el.style),s=u+c-1,r.loop&&$t()>2&&(s=_e(s)),l=Kt(s),l&&(b||l.needsUpdate||!l.bounds)?(a.cleanSlide(l),a.setContent(o,s),1===c&&(a.currItem=l,a.updateCurrZoomItem(!0)),l.needsUpdate=!1):-1===o.index&&s>=0&&a.setContent(o,s),l&&l.container&&(nn(l,me),ln(l),Oe(l));b=!1}v=g=a.currItem.initialZoomLevel,(te=a.currItem.bounds)&&(fe.x=te.center.x,fe.y=te.center.y,ke(!0)),Ie("resize")},zoomTo:function(e,t,n,o,a){t&&(v=g,ht.x=Math.abs(t.x)-fe.x,ht.y=Math.abs(t.y)-fe.y,Le(de,fe));var r=Ne(e,!1),l={};je("x",r,l,e),je("y",r,l,e);var s=g,c={x:fe.x,y:fe.y};Re(l);var u=function(t){1===t?(g=e,fe.x=l.x,fe.y=l.y):(g=(e-s)*t+s,fe.x=(l.x-c.x)*t+c.x,fe.y=(l.y-c.y)*t+c.y),a&&a(t),ke(1===t)};n?et("customZoomTo",0,1,n,o||i.easing.sine.inOut,u):u(1)}},nt={},ot={},it={},at={},rt={},lt=[],st={},ct=[],ut={},dt=0,ft={x:0,y:0},mt=0,pt={x:0,y:0},ht={x:0,y:0},gt={x:0,y:0},vt=function(e,t){return e.x===t.x&&e.y===t.y},wt=function(e,t){return Math.abs(e.x-t.x)<25&&Math.abs(e.y-t.y)<25},xt=function(e,t){return ut.x=Math.abs(e.x-t.x),ut.y=Math.abs(e.y-t.y),Math.sqrt(ut.x*ut.x+ut.y*ut.y)},yt=function(){$&&(B($),$=null)},bt=function(){Y&&($=O(bt),Ft())},St=function(){return!("fit"===r.scaleMode&&g===a.currItem.initialZoomLevel)},_t=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:_t(e.parentNode,t))},Ct={},Tt=function(e,t){return Ct.prevent=!_t(e.target,r.isClickableElement),Ie("preventDragEvent",e,t,Ct),Ct.prevent},It=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Et=function(e,t,n){if(e-H>50){var o=ct.length>2?ct.shift():{};o.x=t,o.y=n,ct.push(o),H=e}},Dt=function(){var e=fe.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(me.y/2))},kt={},Ot={},Bt=[],At=function(e){for(;Bt.length>0;)Bt.pop();return D?(ce=0,lt.forEach(function(e){0===ce?Bt[0]=e:1===ce&&(Bt[1]=e),ce++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Bt[0]=It(e.touches[0],kt),e.touches.length>1&&(Bt[1]=It(e.touches[1],Ot))):(kt.x=e.pageX,kt.y=e.pageY,kt.id="",Bt[0]=kt),Bt},zt=function(e,t){var n,o,i,l,s=fe[e]+t[e],c=t[e]>0,u=pt.x+t.x,d=pt.x-st.x;return n=s>te.min[e]||s<te.max[e]?r.panEndFriction:1,s=fe[e]+t[e]*n,!r.allowPanToNext&&g!==a.currItem.initialZoomLevel||(ne?"h"!==ie||"x"!==e||q||(c?(s>te.min[e]&&(n=r.panEndFriction,te.min[e]-s,o=te.min[e]-de[e]),(o<=0||d<0)&&$t()>1?(l=u,d<0&&u>st.x&&(l=st.x)):te.min.x!==te.max.x&&(i=s)):(s<te.max[e]&&(n=r.panEndFriction,s-te.max[e],o=de[e]-te.max[e]),(o<=0||d>0)&&$t()>1?(l=u,d>0&&u<st.x&&(l=st.x)):te.min.x!==te.max.x&&(i=s))):l=u,"x"!==e)?void(oe||G||g>a.currItem.fitRatio&&(fe[e]+=t[e]*n)):(void 0!==l&&(Ae(l,!0),G=l!==st.x),te.min.x!==te.max.x&&(void 0!==i?fe.x=i:G||(fe.x+=t.x*n)),void 0!==l)},Lt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(qt)return void e.preventDefault();if(!j||"mousedown"!==e.type){if(Tt(e,!0)&&e.preventDefault(),Ie("pointerDown"),D){var t=i.arraySearch(lt,e.pointerId,"id");t<0&&(t=lt.length),lt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=At(e),o=n.length;V=null,Je(),Y&&1!==o||(Y=ae=!0,i.bind(window,m,a),Z=se=re=U=G=K=X=q=!1,ie=null,Ie("firstTouchStart",n),Le(de,fe),ue.x=ue.y=0,Le(at,n[0]),Le(rt,at),st.x=ge.x*pe,ct=[{x:at.x,y:at.y}],H=W=Me(),Ne(g,!0),yt(),bt()),!Q&&o>1&&!oe&&!G&&(v=g,q=!1,Q=X=!0,ue.y=ue.x=0,Le(de,fe),Le(nt,n[0]),Le(ot,n[1]),Mt(nt,ot,gt),ht.x=Math.abs(gt.x)-fe.x,ht.y=Math.abs(gt.y)-fe.y,J=ee=xt(nt,ot))}}},Rt=function(e){if(e.preventDefault(),D){var t=i.arraySearch(lt,e.pointerId,"id");if(t>-1){var n=lt[t];n.x=e.pageX,n.y=e.pageY}}if(Y){var o=At(e);if(ie||K||Q)V=o;else if(pt.x!==ge.x*pe)ie="h";else{var a=Math.abs(o[0].x-at.x)-Math.abs(o[0].y-at.y);Math.abs(a)>=10&&(ie=a>0?"h":"v",V=o)}}},Ft=function(){if(V){var e=V.length;if(0!==e)if(Le(nt,V[0]),it.x=nt.x-at.x,it.y=nt.y-at.y,Q&&e>1){if(at.x=nt.x,at.y=nt.y,!it.x&&!it.y&&vt(V[1],ot))return;Le(ot,V[1]),q||(q=!0,Ie("zoomGestureStarted"));var t=xt(nt,ot),n=Zt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(se=!0);var o=1,i=Ze(),l=Ue();if(n<i)if(r.pinchToClose&&!se&&v<=a.currItem.initialZoomLevel){var s=1-(i-n)/(i/1.2);Ee(s),Ie("onPinchClose",s),re=!0}else(o=(i-n)/i)>1&&(o=1),n=i-o*(i/3);else n>l&&((o=(n-l)/(6*i))>1&&(o=1),n=l+o*i);o<0&&(o=0),J=t,Mt(nt,ot,ft),ue.x+=ft.x-gt.x,ue.y+=ft.y-gt.y,Le(gt,ft),fe.x=ze("x",n),fe.y=ze("y",n),Z=n>g,g=n,ke()}else{if(!ie)return;if(ae&&(ae=!1,Math.abs(it.x)>=10&&(it.x-=V[0].x-rt.x),Math.abs(it.y)>=10&&(it.y-=V[0].y-rt.y)),at.x=nt.x,at.y=nt.y,0===it.x&&0===it.y)return;if("v"===ie&&r.closeOnVerticalDrag&&!St()){ue.y+=it.y,fe.y+=it.y;var c=Dt();return U=!0,Ie("onVerticalDrag",c),Ee(c),void ke()}Et(Me(),nt.x,nt.y),K=!0,te=a.currItem.bounds,zt("x",it)||(zt("y",it),Re(fe),ke())}}},Pt=function(e){if(F.isOldAndroid){if(j&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(j),j=setTimeout(function(){j=0},600))}Ie("pointerUp"),Tt(e,!1)&&e.preventDefault();var t;if(D){var n=i.arraySearch(lt,e.pointerId,"id");if(n>-1)if(t=lt.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var o={4:"mouse",2:"touch",3:"pen"};t.type=o[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var l,s=At(e),c=s.length;if("mouseup"===e.type&&(c=0),2===c)return V=null,!0;1===c&&Le(rt,s[0]),0!==c||ie||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ie("touchRelease",e,t));var u=-1;if(0===c&&(Y=!1,i.unbind(window,m,a),yt(),Q?u=0:-1!==mt&&(u=Me()-mt)),mt=1===c?Me():-1,l=-1!==u&&u<150?"zoom":"swipe",Q&&c<2&&(Q=!1,1===c&&(l="zoomPointerUp"),Ie("zoomGestureEnded")),V=null,K||q||oe||U)if(Je(),N||(N=Wt()),N.calculateSwipeSpeed("x"),U)if(Dt()<r.verticalDragRange)a.close();else{var d=fe.y,f=le;et("verticalDrag",0,1,300,i.easing.cubic.out,function(e){fe.y=(a.currItem.initialPosition.y-d)*e+d,Ee((1-f)*e+f),ke()}),Ie("onVerticalDrag",1)}else{if((G||oe)&&0===c){if(Nt(l,N))return;l="zoomPointerUp"}if(!oe)return"swipe"!==l?void Ut():void(!G&&g>a.currItem.fitRatio&&Ht(N))}},Wt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){ct.length>1?(e=Me()-H+50,t=ct[ct.length-2][o]):(e=Me()-W,t=rt[o]),n.lastFlickOffset[o]=at[o]-t,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickDist[o]>20?n.lastFlickSpeed[o]=n.lastFlickOffset[o]/e:n.lastFlickSpeed[o]=0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(fe[e]>te.min[e]?n.backAnimDestination[e]=te.min[e]:fe[e]<te.max[e]&&(n.backAnimDestination[e]=te.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,et("bounceZoomPan"+e,fe[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){fe[e]=t,ke()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,fe[e]+=n.distanceOffset[e])},panAnimLoop:function(){if($e.zoomPan&&($e.zoomPan.raf=O(n.panAnimLoop),n.now=Me(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),ke(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),ke(),void Ve("zoomPan")}};return n},Ht=function(e){return e.calculateSwipeSpeed("y"),te=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Qe("zoomPan"),e.lastNow=Me(),void e.panAnimLoop())},Nt=function(e,t){var n;oe||(dt=u);var o;if("swipe"===e){var l=at.x-rt.x,s=t.lastFlickDist.x<10;l>30&&(s||t.lastFlickOffset.x>20)?o=-1:l<-30&&(s||t.lastFlickOffset.x<-20)&&(o=1)}var c;o&&(u+=o,u<0?(u=r.loop?$t()-1:0,c=!0):u>=$t()&&(u=r.loop?0:$t()-1,c=!0),c&&!r.loop||(ve+=o,pe-=o,n=!0));var d,f=ge.x*pe,m=Math.abs(f-pt.x);return n||f>pt.x==t.lastFlickSpeed.x>0?(d=Math.abs(t.lastFlickSpeed.x)>0?m/Math.abs(t.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,dt===u&&(n=!1),oe=!0,Ie("mainScrollAnimStart"),et("mainScroll",pt.x,f,d,i.easing.cubic.out,Ae,function(){Je(),oe=!1,dt=-1,(n||dt!==u)&&a.updateCurrItem(),Ie("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Zt=function(e){return 1/ee*e*v},Ut=function(){var e=g,t=Ze(),n=Ue();g<t?e=t:g>n&&(e=n);var o,r=le;return re&&!Z&&!se&&g<t?(a.close(),!0):(re&&(o=function(e){Ee((1-r)*e+r)}),a.zoomTo(e,0,200,i.easing.cubic.out,o),!0)};Se("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,i){C=e+t,T=e+n,I=e+o,M=i?e+i:""};(D=F.pointerEvent)&&F.touch&&(F.touch=!1),D?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):F.touch?(e("touch","start","move","end","cancel"),k=!0):e("mouse","down","move","up"),m=T+" "+I+" "+M,p=C,D&&!k&&(k=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=k,h[C]=Lt,h[T]=Rt,h[I]=Pt,M&&(h[M]=h[I]),F.touch&&(p+=" mousedown",m+=" mousemove mouseup",h.mousedown=h[C],h.mousemove=h[T],h.mouseup=h[I]),k||(r.allowPanToNext=!1)}}});var jt,Yt,Xt,qt,Kt,$t,Gt,Vt=function(t,n,o,l){jt&&clearTimeout(jt),qt=!0,Xt=!0;var s;t.initialLayout?(s=t.initialLayout,t.initialLayout=null):s=r.getThumbBoundsFn&&r.getThumbBoundsFn(u);var d=o?r.hideAnimationDuration:r.showAnimationDuration,f=function(){Ve("initialZoom"),o?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Ee(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),Ie("initialZoom"+(o?"OutEnd":"InEnd"))),l&&l(),qt=!1};if(!d||!s||void 0===s.x)return Ie("initialZoom"+(o?"Out":"In")),g=t.initialZoomLevel,Le(fe,t.initialPosition),ke(),e.style.opacity=o?0:1,Ee(1),void(d?setTimeout(function(){f()},d):f());!function(){var n=c,l=!a.currItem.src||a.currItem.loadError||r.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),o||(g=s.w/t.w,fe.x=s.x,fe.y=s.y-z,a[l?"template":"bg"].style.opacity=.001,ke()),Qe("initialZoom"),o&&!n&&i.removeClass(e,"pswp--animated-in"),l&&(o?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),jt=setTimeout(function(){if(Ie("initialZoom"+(o?"Out":"In")),o){var a=s.w/t.w,r={x:fe.x,y:fe.y},c=g,u=le,m=function(t){1===t?(g=a,fe.x=s.x,fe.y=s.y-R):(g=(a-c)*t+c,fe.x=(s.x-r.x)*t+r.x,fe.y=(s.y-R-r.y)*t+r.y),ke(),l?e.style.opacity=1-t:Ee(u-t*u)};n?et("initialZoom",0,1,d,i.easing.cubic.out,m,f):(m(1),jt=setTimeout(f,d+20))}else g=t.initialZoomLevel,Le(fe,t.initialPosition),ke(),Ee(1),l?e.style.opacity=1:Ee(1),jt=setTimeout(f,d+20)},o?25:90)}()},Qt={},Jt=[],en={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Yt.length}},tn=function(e,t,n){var o=e.bounds;o.center.x=Math.round((Qt.x-t)/2),o.center.y=Math.round((Qt.y-n)/2)+e.vGap.top,o.max.x=t>Qt.x?Math.round(Qt.x-t):o.center.x,o.max.y=n>Qt.y?Math.round(Qt.y-n)+e.vGap.top:o.center.y,o.min.x=t>Qt.x?0:o.center.x,o.min.y=n>Qt.y?e.vGap.top:o.center.y},nn=function(e,t,n){if(e.src&&!e.loadError){var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),Ie("parseVerticalMargin",e)),Qt.x=t.x,Qt.y=t.y-e.vGap.top-e.vGap.bottom,o){var i=Qt.x/e.w,a=Qt.y/e.h;e.fitRatio=i<a?i:a;var l=r.scaleMode;"orig"===l?n=1:"fit"===l&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return tn(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},on=function(e,t,n,o,i,r){t.loadError||o&&(t.imageAppended=!0,ln(t,o,t===a.currItem&&be),n.appendChild(o),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},an=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},rn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=r.errorMsg.replace("%url%",e.src),!0},ln=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var o=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=i+"px"),t.style.width=o+"px",t.style.height=i+"px"}},sn=function(){if(Jt.length){for(var e,t=0;t<Jt.length;t++)(e=Jt[t]).holder.index===e.index&&on(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Jt=[]}};Se("Controller",{publicMethods:{lazyLoadItem:function(e){e=_e(e);var t=Kt(e);t&&(!t.loaded&&!t.loading||b)&&(Ie("gettingData",e,t),t.src&&an(t))},initController:function(){i.extend(r,en,!0),a.items=Yt=n,Kt=a.getItemAt,$t=r.getNumItemsFn,Gt=r.loop,$t()<3&&(r.loop=!1),Te("beforeChange",function(e){var t,n=r.preload,o=null===e||e>=0,i=Math.min(n[0],$t()),l=Math.min(n[1],$t());for(t=1;t<=(o?l:i);t++)a.lazyLoadItem(u+t);for(t=1;t<=(o?i:l);t++)a.lazyLoadItem(u-t)}),Te("initialLayout",function(){a.currItem.initialLayout=r.getThumbBoundsFn&&r.getThumbBoundsFn(u)}),Te("mainScrollAnimComplete",sn),Te("initialZoomInEnd",sn),Te("destroy",function(){for(var e,t=0;t<Yt.length;t++)(e=Yt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Jt=null})},getItemAt:function(e){return e>=0&&void 0!==Yt[e]&&Yt[e]},allowProgressiveImg:function(){return r.forceProgressiveLoading||!k||r.mouseUsed||screen.width>1200},setContent:function(e,t){r.loop&&(t=_e(t));var n=a.getItemAt(e.index);n&&(n.container=null);var o,s=a.getItemAt(t);if(s){Ie("gettingData",t,s),e.index=t,e.item=s;var c=s.container=i.createEl("pswp__zoom-wrap");if(!s.src&&s.html&&(s.html.tagName?c.appendChild(s.html):c.innerHTML=s.html),rn(s),nn(s,me),!s.src||s.loadError||s.loaded)s.src&&!s.loadError&&(o=i.createEl("pswp__img","img"),o.style.opacity=1,o.src=s.src,ln(s,o),on(0,s,c,o));else{if(s.loadComplete=function(n){if(l){if(e&&e.index===t){if(rn(n,!0))return n.loadComplete=n.img=null,nn(n,me),Oe(n),void(e.index===u&&a.updateCurrZoomItem());n.imageAppended?!qt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):F.transform&&(oe||qt)?Jt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):on(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,Ie("imageLoadComplete",t,n)}},i.features.transform){var d="pswp__img pswp__img--placeholder";d+=s.msrc?"":" pswp__img--placeholder--blank";var f=i.createEl(d,s.msrc?"img":"");s.msrc&&(f.src=s.msrc),ln(s,f),c.appendChild(f),s.placeholder=f}s.loading||an(s),a.allowProgressiveImg()&&(!Xt&&F.transform?Jt.push({item:s,baseDiv:c,img:s.img,index:t,holder:e}):on(0,s,c,s.img,0,!0))}Xt||t!==u?Oe(s):(ne=c.style,Vt(s,o||s.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var cn,un={},dn=function(e,t,n){var o=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(o)};Se("Tap",{publicMethods:{initTap:function(){Te("firstTouchStart",a.onTapStart),Te("touchRelease",a.onTapRelease),Te("destroy",function(){un={},cn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(cn),cn=null)},onTapRelease:function(e,t){if(t&&!K&&!X&&!Ge){var n=t;if(cn&&(clearTimeout(cn),cn=null,wt(n,un)))return void Ie("doubleTap",n);if("mouse"===t.type)return void dn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||i.hasClass(e.target,"pswp__single-tap"))return void dn(e,t);Le(un,n),cn=setTimeout(function(){dn(e,t),cn=null},300)}}}});var fn;Se("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(k?Te("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){fn={};var n="wheel mousewheel DOMMouseScroll";Te("bindEvents",function(){i.bind(e,n,a.handleMouseWheel)}),Te("unbindEvents",function(){fn&&i.unbind(e,n,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var o,r=function(){a.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),g<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),l()},l=function(){o&&(i.removeClass(e,"pswp--dragging"),o=!1)};Te("resize",r),Te("afterChange",r),Te("pointerDown",function(){a.mouseZoomedIn&&(o=!0,i.addClass(e,"pswp--dragging"))}),Te("pointerUp",l),t||r()},handleMouseWheel:function(e){if(g<=a.currItem.fitRatio)return r.modal&&(!r.closeOnScroll||Ge||Y?e.preventDefault():E&&Math.abs(e.deltaY)>2&&(c=!0,a.close())),!0;if(e.stopPropagation(),fn.x=0,"deltaX"in e)1===e.deltaMode?(fn.x=18*e.deltaX,fn.y=18*e.deltaY):(fn.x=e.deltaX,fn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(fn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?fn.y=-.16*e.wheelDeltaY:fn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;fn.y=e.detail}Ne(g,!0);var t=fe.x-fn.x,n=fe.y-fn.y;(r.modal||t<=te.min.x&&t>=te.max.x&&n<=te.min.y&&n>=te.max.y)&&e.preventDefault(),a.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:me.x/2+he.x,y:me.y/2+he.y};var n=r.getDoubleTapZoom(!0,a.currItem),o=g===n;a.mouseZoomedIn=!o,a.zoomTo(o?a.currItem.initialZoomLevel:n,t,333),i[(o?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var mn,pn,hn,gn,vn,wn,xn,yn,bn,Sn,_n,Cn,Tn={history:!0,galleryUID:1},In=function(){return _n.hash.substring(1)},Mn=function(){mn&&clearTimeout(mn),hn&&clearTimeout(hn)},En=function(){var e=In(),t={};if(e.length<5)return t;var n,o=e.split("&");for(n=0;n<o.length;n++)if(o[n]){var i=o[n].split("=");i.length<2||(t[i[0]]=i[1])}if(r.galleryPIDs){var a=t.pid;for(t.pid=0,n=0;n<Yt.length;n++)if(Yt[n].pid===a){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Dn=function(){if(hn&&clearTimeout(hn),Ge||Y)hn=setTimeout(Dn,500);else{gn?clearTimeout(pn):gn=!0;var e=u+1,t=Kt(u);t.hasOwnProperty("pid")&&(e=t.pid);var n=xn+"&gid="+r.galleryUID+"&pid="+e;yn||-1===_n.hash.indexOf(n)&&(Sn=!0);var o=_n.href.split("#")[0]+"#"+n;Cn?"#"+n!==window.location.hash&&history[yn?"replaceState":"pushState"]("",document.title,o):yn?_n.replace(o):_n.hash=n,yn=!0,pn=setTimeout(function(){gn=!1},60)}};Se("History",{publicMethods:{initHistory:function(){if(i.extend(r,Tn,!0),r.history){_n=window.location,Sn=!1,bn=!1,yn=!1,xn=In(),Cn="pushState"in history,xn.indexOf("gid=")>-1&&(xn=xn.split("&gid=")[0],xn=xn.split("?gid=")[0]),Te("afterChange",a.updateURL),Te("unbindEvents",function(){i.unbind(window,"hashchange",a.onHashChange)});var e=function(){wn=!0,bn||(Sn?history.back():xn?_n.hash=xn:Cn?history.pushState("",document.title,_n.pathname+_n.search):_n.hash=""),Mn()};Te("unbindEvents",function(){c&&e()}),Te("destroy",function(){wn||e()}),Te("firstUpdate",function(){u=En().pid});var t=xn.indexOf("pid=");t>-1&&"&"===(xn=xn.substring(0,t)).slice(-1)&&(xn=xn.slice(0,-1)),setTimeout(function(){l&&i.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return In()===xn?(bn=!0,void a.close()):void(gn||(vn=!0,a.goTo(En().pid),vn=!1))},updateURL:function(){Mn(),vn||(yn?mn=setTimeout(Dn,800):Dn())}}}),i.extend(a,tt)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(e,t){var n,o,i,a,r,l,s,c,u,d,f,m,p,h,g,v,w,x,y,b=this,S=!1,_=!0,C=!0,T={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},I=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&R();for(var n,o,i=(e.target||e.srcElement).getAttribute("class")||"",a=0;a<j.length;a++)(n=j[a]).onTap&&i.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){e.stopPropagation&&e.stopPropagation(),v=!0;var r=t.features.isOldAndroid?600:30;w=setTimeout(function(){v=!1},r)}},M=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},E=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},D=function(){var e=1===g.getNumItemsFn();e!==h&&(E(o,"ui--one-slide",e),h=e)},k=function(){E(s,"share-modal--hidden",C)},O=function(){return C=!C,C?(t.removeClass(s,"pswp__share-modal--fade-in"),setTimeout(function(){C&&k()},300)):(k(),setTimeout(function(){C||t.addClass(s,"pswp__share-modal--fade-in")},30)),C||A(),!1},B=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),C||O(),1))},A=function(){for(var e,t,n,o,i,a="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],n=g.getImageURLForShare(e),o=g.getPageURLForShare(e),i=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(o)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(e,a));s.children[0].innerHTML=a,s.children[0].onclick=B},z=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},L=0,R=function(){clearTimeout(y),L=0,u&&b.setIdle(!1)},F=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(y),y=setTimeout(function(){b.setIdle(!0)},g.timeToIdleOutside))},P=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=b.getFullscreenAPI()),n?(t.bind(document,n.eventK,b.updateFullscreen),b.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},W=function(){g.preloaderEl&&(H(!0),d("beforeChange",function(){clearTimeout(p),p=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&H(!1):H(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,n){e.currItem===n&&H(!0)}))},H=function(e){m!==e&&(E(f,"preloader--active",!e),m=e)},N=function(e){var n=e.vGap;if(M()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(a||((a=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),o.insertBefore(a,i),t.addClass(o,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var l=a.clientHeight;n.bottom=parseInt(l,10)||44}else n.bottom=r.top;else n.bottom="auto"===r.bottom?0:r.bottom;n.top=r.top}else n.top=n.bottom=0},Z=function(){g.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",R),t.bind(document,"mouseout",F),x=setInterval(function(){2===++L&&b.setIdle(!0)},g.timeToIdle/2)})},U=function(){d("onVerticalDrag",function(e){_&&e<.95?b.hideControls():!_&&e>=.95&&b.showControls()});var e;d("onPinchClose",function(t){_&&t<.9?(b.hideControls(),e=!0):e&&!_&&t>.9&&b.showControls()}),d("zoomGestureEnded",function(){(e=!1)&&!_&&b.showControls()})},j=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){s=e},onTap:function(){O()}},{name:"button--share",option:"shareEl",onInit:function(e){l=e},onTap:function(){O()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}],Y=function(){var e,n,i,a=function(o){if(o)for(var a=o.length,r=0;r<a;r++){e=o[r],n=e.className;for(var l=0;l<j.length;l++)i=j[l],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(o.children);var r=t.getChildByClass(o,"pswp__top-bar");r&&a(r.children)};b.init=function(){t.extend(e.options,T,!0),g=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,U(),d("beforeChange",b.update),d("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){t.bind(o,"pswpTap click",I),t.bind(e.scrollWrap,"pswpTap",b.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",b.onMouseOver)}),d("unbindEvents",function(){C||O(),x&&clearInterval(x),t.unbind(document,"mouseout",F),t.unbind(document,"mousemove",R),t.unbind(o,"pswpTap click",I),t.unbind(e.scrollWrap,"pswpTap",b.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",b.onMouseOver),n&&(t.unbind(document,n.eventK,b.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),d("destroy",function(){g.captionEl&&(a&&o.removeChild(a),t.removeClass(i,"pswp__caption--empty")),s&&(s.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),b.setIdle(!1)}),g.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(o,"pswp__ui--hidden")}),d("parseVerticalMargin",N),Y(),g.shareEl&&l&&s&&(C=!0),D(),Z(),P(),W()},b.setIdle=function(e){u=e,E(o,"ui--idle",e)},b.update=function(){_&&e.currItem?(b.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),E(i,"caption--empty",!e.currItem.title)),S=!0):S=!1,C||O(),D()},b.updateFullscreen=function(o){o&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},b.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},b.onGlobalTap=function(n){var o=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(z(o))return void e.close();t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(_?b.hideControls():b.showControls()),g.tapToClose&&(t.hasClass(o,"pswp__img")||z(o)))return void e.close()},b.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;E(o,"ui--over-close",z(t))},b.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),_=!1},b.showControls=function(){_=!0,S||b.update(),t.removeClass(o,"pswp__ui--hidden")},b.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},b.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}),function(e,t){var n=function(e,t){"use strict";if(t.getElementsByClassName){var n,o=t.documentElement,i=e.Date,a=e.HTMLPictureElement,r="addEventListener",l="getAttribute",s=e[r],c=e.setTimeout,u=e.requestAnimationFrame||c,d=e.requestIdleCallback,f=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],p={},h=Array.prototype.forEach,g=function(e,t){return p[t]||(p[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),p[t].test(e[l]("class")||"")&&p[t]},v=function(e,t){g(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},w=function(e,t){var n;(n=g(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},x=function(e,t,n){var o=n?r:"removeEventListener";n&&x(e,t),m.forEach(function(n){e[o](n,t)})},y=function(e,n,o,i,a){var r=t.createEvent("CustomEvent");return r.initCustomEvent(n,!i,!a,o||{}),e.dispatchEvent(r),r},b=function(t,o){var i;!a&&(i=e.picturefill||n.pf)?i({reevaluate:!0,elements:[t]}):o&&o.src&&(t.src=o.src)},S=function(e,t){return(getComputedStyle(e,null)||{})[t]},_=function(e,t,o){for(o=o||e.offsetWidth;o<n.minSize&&t&&!e._lazysizesWidth;)o=t.offsetWidth,t=t.parentNode;return o},C=function(){var e,n,o=[],i=[],a=o,r=function(){var t=a;for(a=o.length?i:o,e=!0,n=!1;t.length;)t.shift()();e=!1},l=function(o,i){e&&!i?o.apply(this,arguments):(a.push(o),n||(n=!0,(t.hidden?c:u)(r)))};return l._lsFlush=r,l}(),T=function(e,t){return t?function(){C(e)}:function(){var t=this,n=arguments;C(function(){e.apply(t,n)})}},I=function(e){var t,n=0,o=666,a=function(){t=!1,n=i.now(),e()},r=d?function(){d(a,{timeout:o}),666!==o&&(o=666)}:T(function(){c(a)},!0);return function(e){var a;(e=!0===e)&&(o=44),t||(t=!0,0>(a=125-(i.now()-n))&&(a=0),e||9>a&&d?r():c(r,a))}},M=function(e){var t,n,o=function(){t=null,e()},a=function(){var e=i.now()-n;99>e?c(a,99-e):(d||o)(o)};return function(){n=i.now(),t||(t=c(a,99))}},E=function(){var a,u,d,m,p,_,E,k,O,B,A,z,L,R,F,P=/^img$/i,W=/^iframe$/i,H="onscroll"in e&&!/glebot/.test(navigator.userAgent),N=0,Z=0,U=-1,j=function(e){Z--,e&&e.target&&x(e.target,j),(!e||0>Z||!e.target)&&(Z=0)},Y=function(e,n){var i,a=e,r="hidden"==S(t.body,"visibility")||"hidden"!=S(e,"visibility");for(O-=n,z+=n,B-=n,A+=n;r&&(a=a.offsetParent)&&a!=t.body&&a!=o;)(r=(S(a,"opacity")||1)>0)&&"visible"!=S(a,"overflow")&&(i=a.getBoundingClientRect(),r=A>i.left&&B<i.right&&z>i.top-1&&O<i.bottom+1);return r},X=function(){var e,i,r,s,c,f,m,h,g;if((p=n.loadMode)&&8>Z&&(e=a.length)){i=0,U++,null==R&&("expand"in n||(n.expand=o.clientHeight>500&&o.clientWidth>500?500:370),L=n.expand,R=L*n.expFactor),R>N&&1>Z&&U>2&&p>2&&!t.hidden?(N=R,U=0):N=p>1&&U>1&&6>Z?L:0;for(;e>i;i++)if(a[i]&&!a[i]._lazyRace)if(H)if((h=a[i][l]("data-expand"))&&(f=1*h)||(f=N),g!==f&&(E=innerWidth+f*F,k=innerHeight+f,m=-1*f,g=f),r=a[i].getBoundingClientRect(),(z=r.bottom)>=m&&(O=r.top)<=k&&(A=r.right)>=m*F&&(B=r.left)<=E&&(z||A||B||O)&&(d&&3>Z&&!h&&(3>p||4>U)||Y(a[i],f))){if(ee(a[i]),c=!0,Z>9)break}else!c&&d&&!s&&4>Z&&4>U&&p>2&&(u[0]||n.preloadAfterLoad)&&(u[0]||!h&&(z||A||B||O||"auto"!=a[i][l](n.sizesAttr)))&&(s=u[0]||a[i]);else ee(a[i]);s&&!c&&ee(s)}},q=I(X),K=function(e){v(e.target,n.loadedClass),w(e.target,n.loadingClass),x(e.target,G)},$=T(K),G=function(e){$({target:e.target})},V=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Q=function(e){var t,o,i=e[l](n.srcsetAttr);(t=n.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i),t&&((o=e.parentNode).insertBefore(e.cloneNode(),e),o.removeChild(e))},J=T(function(e,t,o,i,a){var r,s,u,d,p,g;(p=y(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(o?v(e,n.autosizesClass):e.setAttribute("sizes",i)),s=e[l](n.srcsetAttr),r=e[l](n.srcAttr),a&&(u=e.parentNode,d=u&&f.test(u.nodeName||"")),g=t.firesLoad||"src"in e&&(s||r||d),p={target:e},g&&(x(e,j,!0),clearTimeout(m),m=c(j,2500),v(e,n.loadingClass),x(e,G,!0)),d&&h.call(u.getElementsByTagName("source"),Q),s?e.setAttribute("srcset",s):r&&!d&&(W.test(e.nodeName)?V(e,r):e.src=r),(s||d)&&b(e,{src:r})),e._lazyRace&&delete e._lazyRace,w(e,n.lazyClass),C(function(){(!g||e.complete&&e.naturalWidth>1)&&(g?j(p):Z--,K(p))},!0)}),ee=function(e){var t,o=P.test(e.nodeName),i=o&&(e[l](n.sizesAttr)||e[l]("sizes")),a="auto"==i;(!a&&d||!o||!e.src&&!e.srcset||e.complete||g(e,n.errorClass))&&(t=y(e,"lazyunveilread").detail,a&&D.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,Z++,J(e,t,a,i,o))},te=function(){if(!d){if(i.now()-_<999)return void c(te,999);var e=M(function(){n.loadMode=3,q()});d=!0,n.loadMode=3,q(),s("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}};return{_:function(){_=i.now(),a=t.getElementsByClassName(n.lazyClass),u=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),F=n.hFac,s("scroll",q,!0),s("resize",q,!0),e.MutationObserver?new MutationObserver(q).observe(o,{childList:!0,subtree:!0,attributes:!0}):(o[r]("DOMNodeInserted",q,!0),o[r]("DOMAttrModified",q,!0),setInterval(q,999)),s("hashchange",q,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[r](e,q,!0)}),/d$|^c/.test(t.readyState)?te():(s("load",te),t[r]("DOMContentLoaded",q),c(te,2e4)),a.length?(X(),C._lsFlush()):q()},checkElems:q,unveil:ee}}(),D=function(){var e,o=T(function(e,t,n,o){var i,a,r;if(e._lazysizesWidth=o,o+="px",e.setAttribute("sizes",o),f.test(t.nodeName||""))for(i=t.getElementsByTagName("source"),a=0,r=i.length;r>a;a++)i[a].setAttribute("sizes",o);n.detail.dataAttr||b(e,n.detail)}),i=function(e,t,n){var i,a=e.parentNode;a&&(n=_(e,a,n),(i=y(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=i.detail.width)&&n!==e._lazysizesWidth&&o(e,a,i,n))},a=M(function(){var t,n=e.length;if(n)for(t=0;n>t;t++)i(e[t])});return{_:function(){e=t.getElementsByClassName(n.autosizesClass),s("resize",a)},checkElems:a,updateElem:i}}(),k=function(){k.i||(k.i=!0,D._(),E._())};return function(){var t,o={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in o)t in n||(n[t]=o[t]);e.lazySizesConfig=n,c(function(){n.init&&k()})}(),{cfg:n,autoSizer:D,loader:E,init:k,uP:b,aC:v,rC:w,hC:g,fire:y,gW:_,rAF:C}}}(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){if(e instanceof Date)return e;if(String(e).match(r))return String(e).match(/^[0-9]*$/)&&(e=Number(e)),String(e).match(/\-/)&&(e=String(e).replace(/\-/g,"/")),new Date(e);throw new Error("Couldn't cast `"+e+"` to a date object.")}function n(e){var t=e.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(t)}function o(e){return function(t){var o=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(o)for(var a=0,r=o.length;a<r;++a){var l=o[a].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=n(l[0]),u=l[1]||"",d=l[3]||"",f=null;l=l[2],s.hasOwnProperty(l)&&(f=s[l],f=Number(e[f])),null!==f&&("!"===u&&(f=i(d,f)),""===u&&f<10&&(f="0"+f.toString()),t=t.replace(c,f.toString()))}return t=t.replace(/%%/,"%")}}function i(e,t){var n="s",o="";return e&&(e=e.replace(/(:|;|\s)/gi,"").split(/\,/),1===e.length?n=e[0]:(o=e[0],n=e[1])),Math.abs(t)>1?n:o}var a=[],r=[],l={precision:100,elapse:!1,defer:!1};r.push(/^[0-9]*$/.source),r.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),r.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),r=new RegExp(r.join("|"));var s={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},c=function(t,n,o){this.el=t,this.$el=e(t),this.interval=null,this.offset={},this.options=e.extend({},l),this.instanceNumber=a.length,a.push(this),this.$el.data("countdown-instance",this.instanceNumber),o&&("function"==typeof o?(this.$el.on("update.countdown",o),this.$el.on("stoped.countdown",o),this.$el.on("finish.countdown",o)):this.options=e.extend({},l,o)),this.setFinalDate(n),!1===this.options.defer&&this.start()};e.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var e=this;this.update(),this.interval=setInterval(function(){e.update.call(e)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),a[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(e){this.finalDate=t(e)},update:function(){if(0!==this.$el.closest("html").length){var t,n=void 0!==e._data(this.el,"events"),o=new Date;t=this.finalDate.getTime()-o.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&t<0?0:Math.abs(t),this.totalSecsLeft!==t&&n&&(this.totalSecsLeft=t,this.elapsed=o>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-o.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))}else this.remove()},dispatchEvent:function(t){var n=e.Event(t+".countdown");n.finalDate=this.finalDate,n.elapsed=this.elapsed,n.offset=e.extend({},this.offset),n.strftime=o(this.offset),this.$el.trigger(n)}}),e.fn.countdown=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){var n=e(this).data("countdown-instance");if(void 0!==n){var o=a[n],i=t[0];c.prototype.hasOwnProperty(i)?o[i].apply(o,t.slice(1)):null===String(i).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(o.setFinalDate.call(o,i),o.start()):e.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,i))}else new c(this,t[0],t[1])})}});var objectFitImages=function(){"use strict";function e(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e+"' height='"+t+"'%3E%3C/svg%3E"}function t(e){if(e.srcset&&!p&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}function n(e){for(var t,n=getComputedStyle(e).fontFamily,o={};null!==(t=c.exec(n));)o[t[1]]=t[2];return o}function o(t,n,o){var i=e(n||1,o||0);h.call(t,"src")!==i&&g.call(t,"src",i)}function i(e,t){e.naturalWidth?t(e):setTimeout(i,100,e,t)}function a(e){var a=n(e),l=e[s];if(a["object-fit"]=a["object-fit"]||"fill",!l.img){if("fill"===a["object-fit"])return;if(!l.skipTest&&d&&!a["object-position"])return}if(!l.img){l.img=new Image(e.width,e.height),l.img.srcset=h.call(e,"data-ofi-srcset")||e.srcset,l.img.src=h.call(e,"data-ofi-src")||e.src,g.call(e,"data-ofi-src",e.src),e.srcset&&g.call(e,"data-ofi-srcset",e.srcset),o(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{r(e)}catch(e){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}t(l.img),e.style.backgroundImage='url("'+(l.img.currentSrc||l.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=a["object-position"]||"center",e.style.backgroundRepeat="no-repeat",e.style.backgroundOrigin="content-box",/scale-down/.test(a["object-fit"])?i(l.img,function(){l.img.naturalWidth>e.width||l.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"}):e.style.backgroundSize=a["object-fit"].replace("none","auto").replace("fill","100% 100%"),i(l.img,function(t){o(e,t.naturalWidth,t.naturalHeight)})}function r(e){var t={get:function(t){return e[s].img[t||"src"]},set:function(t,n){return e[s].img[n||"src"]=t,g.call(e,"data-ofi-"+n,t),a(e),t}};Object.defineProperty(e,"src",t),Object.defineProperty(e,"currentSrc",{get:function(){return t.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return t.get("srcset")},set:function(e){return t.set(e,"srcset")}})}function l(e,t){var n=!v&&!e;if(t=t||{},f&&!t.skipTest||!m)return!1;e?"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]):e=document.getElementsByTagName("img");for(var o=0;o<e.length;o++)e[o][s]=e[o][s]||{skipTest:t.skipTest},a(e[o]);n&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&l(e.target,{skipTest:t.skipTest})},!0),v=!0,e="img"),t.watchMQ&&window.addEventListener("resize",l.bind(null,e,{skipTest:t.skipTest}))}var s="bfred-it:object-fit-images",c=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,u="undefined"==typeof Image?{style:{"object-position":1}}:new Image,d="object-fit"in u.style,f="object-position"in u.style,m="background-size"in u.style,p="string"==typeof u.currentSrc,h=u.getAttribute,g=u.setAttribute,v=!1;return l.supportsObjectFit=d,l.supportsObjectPosition=f,function(){function e(e,t){return e[s]&&e[s].img&&("src"===t||"srcset"===t)?e[s].img:e}f||(HTMLImageElement.prototype.getAttribute=function(t){return h.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,n){return g.call(e(this,t),t,String(n))})}(),l}(),initPhotoSwipeFromDOM=function(e){for(var t=function(e){for(var t,n,o,i,a=e.childNodes,r=a.length,l=[],s=0;s<r;s++)1===(t=a[s]).nodeType&&(n=t.children[0],o=n.getAttribute("data-size").split("x"),i={src:n.getAttribute("href"),w:parseInt(o[0],10),h:parseInt(o[1],10)},t.children.length>1&&(i.title=t.children[1].innerHTML),n.children.length>0&&(i.msrc=n.children[0].getAttribute("src")),i.el=t,l.push(i));return l},n=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},o=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,o=n(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(o){for(var a,r=o.parentNode,l=o.parentNode.childNodes,s=l.length,c=0,u=0;u<s;u++)if(1===l[u].nodeType){if(l[u]===o){a=c;break}c++}return a>=0&&i(a,r),!1}},i=function(e,n,o,i){var a,r,l=document.querySelectorAll(".pswp")[0];if(r=t(n),a={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=r[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,o=t.getBoundingClientRect();return{x:o.left,y:o.top+n,w:o.width}}},i)if(a.galleryPIDs){for(var s=0;s<r.length;s++)if(r[s].pid==e){a.index=s;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);isNaN(a.index)||(o&&(a.showAnimationDuration=0),new PhotoSwipe(l,PhotoSwipeUI_Default,r,a).init())},a=document.querySelectorAll(e),r=0,l=a.length;r<l;r++)a[r].setAttribute("data-pswp-uid",r+1),a[r].onclick=o;var s=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),o=0;o<n.length;o++)if(n[o]){var i=n[o].split("=");i.length<2||(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();s.pid&&s.gid&&i(s.pid,a[s.gid-1],!0,!0)};